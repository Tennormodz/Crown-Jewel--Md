name: Node.js CI

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [20.x]

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: ${{ matrix.node-version }}

    - name: Install dependencies
      run: npm install -g pm2 && npm i --legacy-peer-deps

    - name: Start application
      run: FLASH-MD-WA-BOT;;;=>eyJub2lzZUtleSI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiOE5rV0ptRlR3YUlOdjVqWjNYRDc0dlRtNHlEbEtneHdDWk4vZlE5RWxtaz0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiN0JNNzNFM2hZNHczK0pMckdaaHdOQVpBMHJZRElROUVQSWRvMWQ2MmxpQT0ifX0sInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyIjp7InByaXZhdGUiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJRQ1pzTDFNcFBvOVc5L0ZFSXR5MXhvYXYzU0hWU09kTC9lRmltcmhzT2tzPSJ9LCJwdWJsaWMiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiI5eVFRV1dNSjZxK254S21JMnBTMk03UnlpZWgrbzVxY2tIWXFpaUxpaUJBPSJ9fSwic2lnbmVkSWRlbnRpdHlLZXkiOnsicHJpdmF0ZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IjRKbDVxTHVyeW1naG1ETjNXODlGMUxVSXQzRGFNUkN1UFdDdCtLT3U3Rm89In0sInB1YmxpYyI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6InNEcUFLTGI2bGlRQU43U3F3cWdSQ3dtRW1oOGZoeDE3WWVYZ1pPVzhJRUE9In19LCJzaWduZWRQcmVLZXkiOnsia2V5UGFpciI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiOEhzOXppSk8yNmd3Tll0eEdLSlloeW5SNEt4cWJNN3VJS3d6dXlqV0VuZz0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoicjBua1JYVmF2RytSME9NWG9VK2dMYjQrcWsvOFdBVlFMMzA1NWVOQk9pQT0ifX0sInNpZ25hdHVyZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkRnZWxyYnNGdFFwQkt5cS96Y1dCVEFsVlBUclYvVjMrY3FuVGRpVi85b2hyTFBrd0dPYU92WXVwa0JHSTcwcVJFTnFvY3pieXlXT1FjbU1CbE1rYWpnPT0ifSwia2V5SWQiOjF9LCJyZWdpc3RyYXRpb25JZCI6MTE0LCJhZHZTZWNyZXRLZXkiOiJqUEJ1OXh0bE5sQ1RVeTFyeGY1RHFERzZMQkUrUmZoYk1HMWtqb2xjU0ZjPSIsInByb2Nlc3NlZEhpc3RvcnlNZXNzYWdlcyI6W10sIm5leHRQcmVLZXlJZCI6MzEsImZpcnN0VW51cGxvYWRlZFByZUtleUlkIjozMSwiYWNjb3VudFN5bmNDb3VudGVyIjowLCJhY2NvdW50U2V0dGluZ3MiOnsidW5hcmNoaXZlQ2hhdHMiOmZhbHNlfSwiZGV2aWNlSWQiOiJjMmZWSUxvR1FrU1Z4eTRWbnJfSkJ3IiwicGhvbmVJZCI6ImYyMzU1ODYyLTdmYmYtNDI4YS04ZTA3LWJjZDg2MWRhMzAzZSIsImlkZW50aXR5SWQiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJkbXQxR1RYcW92UjBOZWJid3UvMjRMT1dUaVU9In0sInJlZ2lzdGVyZWQiOnRydWUsImJhY2t1cFRva2VuIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiQzk5UUxWR1ZldjY4MnR2KzI2dHZSTGxmTGlzPSJ9LCJyZWdpc3RyYXRpb24iOnt9LCJwYWlyaW5nQ29kZSI6IkNLWVRGV0o0IiwibWUiOnsiaWQiOiIyNTU3NTQ5NTIyNzg6MjZAcy53aGF0c2FwcC5uZXQifSwiYWNjb3VudCI6eyJkZXRhaWxzIjoiQ1BlbmkzOFErOVBsdEFZWUF5QUFLQUE9IiwiYWNjb3VudFNpZ25hdHVyZUtleSI6InIvZFlOWGxwUWNUQjZDQXBKcGxmSnRLS0tHbks4M2l6S28yLzNKb09IM2c9IiwiYWNjb3VudFNpZ25hdHVyZSI6IndlUkhPK1dVdnA4UG1pRVVacjlUSXNjS0RCbTVhOEt1UmFGQlhkQjhQb0h6SURRZThVVG9ORmpwTGxzTkYrZUFQWll4MWpEeTM0UUdlaEhCWUdYSkFnPT0iLCJkZXZpY2VTaWduYXR1cmUiOiIwTEt3UHBES29PdEF5ZEF5YzU1ZGRyYlBWNWZ1RkhhN3h5UUdSdm1lVEY0VytUaUluSUVCQ2sycjcvWTljS3BpSUpBTWhrWE0vajdCelhndlpDS1RpZz09In0sInNpZ25hbElkZW50aXRpZXMiOlt7ImlkZW50aWZpZXIiOnsibmFtZSI6IjI1NTc1NDk1MjI3ODoyNkBzLndoYXRzYXBwLm5ldCIsImRldmljZUlkIjowfSwiaWRlbnRpZmllcktleSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkJhLzNXRFY1YVVIRXdlZ2dLU2FaWHliU2lpaHB5dk40c3lxTnY5eWFEaDk0In19XSwicGxhdGZvcm0iOiJhbmRyb2lkIiwibGFzdEFjY291bnRTeW5jVGltZXN0YW1wIjoxNzIxMzMwMTg0LCJteUFwcFN0YXRlS2V5SWQiOiJBQUFBQUtESSJ9

